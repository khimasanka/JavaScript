<!--/**
* @author : Sanu Vithanage
* @since : 0.1.0
**/-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ajax Implementation</title>
</head>
<body>
<h1>Hello Ajax..!</h1>
<h2>Let's Implement Ajax With XMLHTTPRequest Object</h2>
<button id="btn" type="button">Send A Request</button>


<script src="assets/jQuery/jquery-3.6.0.min.js"></script>
<script>

$("#btn").click(function (){
    //Ready Status of AJAX requests
    //0 - Uninitialized
    //1 - Loading
    //2 - Loaded
    //3 - Interactive
    //4 - Completed

    console.log("Request Started")
    var http=new XMLHttpRequest();
    console.log(http.readyState,"After the XMLHttpRequest Object Created"); // Uninitialized

    http.open("GET","db/db.txt");
    console.log(http.readyState,"After the Open Method invoked"); // Loading

    console.log(http.responseText);
    console.log(http.readyState,"After the Response Text Printed"); // Loading

    http.send();
    console.log(http.readyState,"After the Send Method is Invoked"); // Loading

    //when the requests status are changed..please run this
    http.onreadystatechange=function(){
        console.log(http.readyState,"Inside On Ready State Change Event"); //Loaded, //Interactive //Completed
        console.log(http.responseText);
    }

    console.log("Request Finished");

});
</script>
</body>
</html>
